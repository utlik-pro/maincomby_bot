# üè† –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ö–æ—Å—Ç–∏–Ω–≥–µ

## –¢–µ–∫—É—â–∏–π —Ö–æ—Å—Ç–∏–Ω–≥

**–ü—Ä–æ–≤–∞–π–¥–µ—Ä:** [vdska.ru](https://vdska.ru) (VDS/VPS —Ö–æ—Å—Ç–∏–Ω–≥)

**–°–µ—Ä–≤–µ—Ä:**
- IP: `104.253.1.54`
- –û–°: Ubuntu/Debian —Å Docker
- –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ: `/root/maincomby_bot`

**–î–æ—Å—Ç—É–ø:**
- SSH: `ssh root@104.253.1.54`
- –ü–∞—Ä–æ–ª—å: (—Å–º–æ—Ç—Ä–∏ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ, –Ω–µ –≤ Git!)

---

## üîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–æ–º

### –ß–µ—Ä–µ–∑ –ø–∞–Ω–µ–ª—å vdska.ru:

1. –í–æ–π–¥–∏—Ç–µ –Ω–∞ [vdska.ru](https://vdska.ru)
2. –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è ‚Üí –í–∞—à VDS
3. –î–æ—Å—Ç—É–ø–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:
   - –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
   - –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (CPU, RAM, –¥–∏—Å–∫)
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π—Ä–≤–æ–ª–æ–º
   - –°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–æ–≤

### –ß–µ—Ä–µ–∑ SSH (–ø–æ–∫–∞ –Ω—É–∂–Ω–æ):

```bash
# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
ssh root@104.253.1.54

# –°—Ç–∞—Ç—É—Å –±–æ—Ç–∞
docker ps | grep maincomby_bot

# –õ–æ–≥–∏
docker logs maincomby_bot -f

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
cd /root/maincomby_bot
docker compose restart
```

---

## üöÄ –ê–≤—Ç–æ–¥–µ–ø–ª–æ–π (–ë–ï–ó SSH)

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–≤—Ç–æ–¥–µ–ø–ª–æ—è (—Å–º. `QUICK_DEPLOY_GUIDE.md`), SSH –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–µ–Ω –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π.

**–ü—Ä–æ—Å—Ç–æ:**
```bash
git push origin main
# –ë–æ—Ç –æ–±–Ω–æ–≤–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ 1-5 –º–∏–Ω—É—Ç
```

**–°–ø–æ—Å–æ–±—ã –∞–≤—Ç–æ–¥–µ–ø–ª–æ—è:**
- Git Cron (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) - `QUICK_DEPLOY_GUIDE.md`
- Webhook - `WEBHOOK_SETUP.md`
- Watchtower - `SIMPLE_DEPLOY.md`

---

## üìä –¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**Docker Compose:**
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä: `maincomby_bot`
- –ü–æ–ª–∏—Ç–∏–∫–∞ —Ä–µ—Å—Ç–∞—Ä—Ç–∞: `unless-stopped`
- Volume: `./data:/app/data` (–¥–ª—è SQLite –ë–î)

**–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:**
- SQLite: `/root/maincomby_bot/data/bot.db`
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: 306
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π: 247

**–û–∫—Ä—É–∂–µ–Ω–∏–µ:**
- –§–∞–π–ª: `/root/maincomby_bot/.env`
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ: —Å–º. `.env.example`

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

**‚ö†Ô∏è –í–ê–ñ–ù–û:**
- –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ `.env` –≤ Git
- –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ `deploy_to_vps.sh` (—Å–æ–¥–µ—Ä–∂–∏—Ç –ø–∞—Ä–æ–ª–∏)
- –•—Ä–∞–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª–∏ –≤ –º–µ–Ω–µ–¥–∂–µ—Ä–µ –ø–∞—Ä–æ–ª–µ–π (1Password, Bitwarden –∏ —Ç.–¥.)

**–§–∞–π–ª—ã —Å —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏:**
- `.env` - —Ç–æ–∫–µ–Ω—ã –∏ API –∫–ª—é—á–∏
- `deploy_to_vps.sh` - SSH –ø–∞—Ä–æ–ª—å (–∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è .gitignore)
- `bot.db` - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (–∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è .gitignore)

---

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ß–µ—Ä–µ–∑ –ø–∞–Ω–µ–ª—å vdska.ru:
- CPU usage
- RAM usage
- Disk usage
- Network traffic

### –ß–µ—Ä–µ–∑ SSH:
```bash
# –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker stats maincomby_bot --no-stream

# –†–∞–∑–º–µ—Ä –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
ls -lh /root/maincomby_bot/data/bot.db

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞
df -h
```

---

## üîÑ –ë—ç–∫–∞–ø—ã

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –±—ç–∫–∞–ø (–Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –æ–¥–∏–Ω —Ä–∞–∑):

```bash
ssh root@104.253.1.54

# –°–æ–∑–¥–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –±—ç–∫–∞–ø–∞
cat > /root/maincomby_bot/backup.sh << 'EOF'
#!/bin/bash
BACKUP_DIR="/root/maincomby_bot/backups"
mkdir -p "$BACKUP_DIR"
TIMESTAMP=$(date +%Y%m%d_%H%M%S)
cp /root/maincomby_bot/data/bot.db "$BACKUP_DIR/bot_${TIMESTAMP}.db"
# –•—Ä–∞–Ω–∏–º —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π
find "$BACKUP_DIR" -name "bot_*.db" -mtime +7 -delete
echo "[$(date)] ‚úÖ Backup created: bot_${TIMESTAMP}.db"
EOF

chmod +x /root/maincomby_bot/backup.sh

# –î–æ–±–∞–≤—å—Ç–µ –≤ cron (–∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 3:00)
(crontab -l 2>/dev/null; echo "0 3 * * * /root/maincomby_bot/backup.sh >> /var/log/bot_backup.log 2>&1") | crontab -
```

### –†—É—á–Ω–æ–π –±—ç–∫–∞–ø:

```bash
ssh root@104.253.1.54 "/root/maincomby_bot/backup.sh"
```

### –°–∫–∞—á–∞—Ç—å –±—ç–∫–∞–ø –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—É—é –º–∞—à–∏–Ω—É:

```bash
scp root@104.253.1.54:/root/maincomby_bot/backups/bot_*.db ./
```

---

## üí° –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã:

```bash
ssh root@104.253.1.54 << 'ENDSSH'
apt update && apt upgrade -y
docker system prune -f
ENDSSH
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ:

```bash
ssh root@104.253.1.54 "df -h && docker system df"
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:

```bash
ssh root@104.253.1.54 "tail -f /var/log/bot_autoupdate.log"
```

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ vdska.ru:**
- –°–∞–π—Ç: [vdska.ru](https://vdska.ru)
- –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è: –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ—Å–ª–µ –≤—Ö–æ–¥–∞
- –¢–∏–∫–µ—Ç—ã: —á–µ—Ä–µ–∑ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- `AUTO_DEPLOY_README.md` - –ê–≤—Ç–æ–¥–µ–ø–ª–æ–π
- `QUICK_DEPLOY_GUIDE.md` - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- `DIGITALOCEAN_SETUP.md` - –û–±—â–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã (–ø—Ä–∏–º–µ–Ω–∏–º–æ –∏ –∫ vdska.ru)

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–¥–µ–ø–ª–æ–π** - `QUICK_DEPLOY_GUIDE.md` (5 –º–∏–Ω—É—Ç)
2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –±—ç–∫–∞–ø—ã** - —Å–º. —Ä–∞–∑–¥–µ–ª "–ë—ç–∫–∞–ø—ã" –≤—ã—à–µ
3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - —á–µ—Ä–µ–∑ –ø–∞–Ω–µ–ª—å vdska.ru –∏–ª–∏ Uptime Robot

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–æ—Ç–æ–º –±—É–¥–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–æ! üöÄ
