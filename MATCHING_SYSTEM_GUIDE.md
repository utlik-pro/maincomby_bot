# üíï Main Tinder - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Å–∏—Å—Ç–µ–º–µ –º–∞—Ç—á–∏–Ω–≥–∞

## üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

1. [–û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã](#–æ–±–∑–æ—Ä-—Å–∏—Å—Ç–µ–º—ã)
2. [–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã](#–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ-–∫–æ–º–∞–Ω–¥—ã)
3. [–ê–¥–º–∏–Ω-–∫–æ–º–∞–Ω–¥—ã](#–∞–¥–º–∏–Ω-–∫–æ–º–∞–Ω–¥—ã)
4. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–±–∞–∑—ã-–¥–∞–Ω–Ω—ã—Ö)
5. [–ê–ª–≥–æ—Ä–∏—Ç–º –ø–æ–¥–±–æ—Ä–∞](#–∞–ª–≥–æ—Ä–∏—Ç–º-–ø–æ–¥–±–æ—Ä–∞)
6. [–ú–æ–¥–µ—Ä–∞—Ü–∏—è –ø—Ä–æ—Ñ–∏–ª–µ–π](#–º–æ–¥–µ—Ä–∞—Ü–∏—è-–ø—Ä–æ—Ñ–∏–ª–µ–π)
7. [Troubleshooting](#troubleshooting)

---

## –û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã

Main Tinder - —ç—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –∑–Ω–∞–∫–æ–º—Å—Ç–≤ –∏ –Ω–µ—Ç–≤–æ—Ä–∫–∏–Ω–≥–∞ –¥–ª—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞. –ü–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å –µ–¥–∏–Ω–æ–º—ã—à–ª–µ–Ω–Ω–∏–∫–æ–≤, –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–æ–≤, –º–µ–Ω—Ç–æ—Ä–æ–≤ –∏ –ª—é–¥–µ–π —Å –æ–±—â–∏–º–∏ –∏–Ω—Ç–µ—Ä–µ—Å–∞–º–∏.

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è (–±–∏–æ, occupation, —Ü–µ–ª–∏, –Ω–∞–≤—ã–∫–∏, —Ñ–æ—Ç–æ)
‚úÖ –£–º–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º –ø–æ–¥–±–æ—Ä–∞ (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –æ–±—â–∏–º –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è–º –∏ –≥–æ—Ä–æ–¥—É)
‚úÖ Swipe-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–ª–∞–π–∫/—Å–∫–∏–ø)
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–∞—Ç—á–∏ –ø—Ä–∏ –≤–∑–∞–∏–º–Ω—ã—Ö –ª–∞–π–∫–∞—Ö
‚úÖ –û–±–º–µ–Ω –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏ –ø—Ä–∏ –º–∞—Ç—á–µ
‚úÖ –ü—Ä–µ–º–æ–¥–µ—Ä–∞—Ü–∏—è –ø—Ä–æ—Ñ–∏–ª–µ–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º–∏
‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏ (—Å–∫—Ä—ã—Ç—å –ø—Ä–æ—Ñ–∏–ª—å)
‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≥–æ—Ä–æ–¥–æ–≤ (–ú–∏–Ω—Å–∫, –ì—Ä–æ–¥–Ω–æ)

---

## –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã

### `/tinder` - –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é

–¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º—É –º–∞—Ç—á–∏–Ω–≥–∞. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
- **–ï—Å–ª–∏ –ø—Ä–æ—Ñ–∏–ª—è –Ω–µ—Ç:** –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ —Å–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
- **–ï—Å–ª–∏ –ø—Ä–æ—Ñ–∏–ª—å –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏:** —Å—Ç–∞—Ç—É—Å –æ–∂–∏–¥–∞–Ω–∏—è –æ–¥–æ–±—Ä–µ–Ω–∏—è
- **–ï—Å–ª–∏ –ø—Ä–æ—Ñ–∏–ª—å –æ—Ç–∫–ª–æ–Ω—ë–Ω:** –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π
- **–ï—Å–ª–∏ –ø—Ä–æ—Ñ–∏–ª—å –æ–¥–æ–±—Ä–µ–Ω:** –ø–æ–ª–Ω–æ–µ –º–µ–Ω—é —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏

**–ú–µ–Ω—é –ø–æ—Å–ª–µ –æ–¥–æ–±—Ä–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è:**
- üî• –ù–∞—á–∞—Ç—å —Å–≤–∞–π–ø–∏—Ç—å
- üë§ –ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å
- üíï –ú–æ–∏ –º–∞—Ç—á–∏
- ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏

### `/my_profile` - –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–≤–æ–µ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è

–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
- –°—Ç–∞—Ç—É—Å –º–æ–¥–µ—Ä–∞—Ü–∏–∏ (‚è≥ –ù–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ / ‚úÖ –û–¥–æ–±—Ä–µ–Ω / ‚ùå –û—Ç–∫–ª–æ–Ω—ë–Ω)
- –í–∏–¥–∏–º–æ—Å—Ç—å –ø—Ä–æ—Ñ–∏–ª—è (üü¢ –í–∏–¥–µ–Ω / üî¥ –°–∫—Ä—ã—Ç)
- –í—Å–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª—è (–±–∏–æ, occupation, —Ü–µ–ª–∏ –∏ —Ç.–¥.)
- –§–æ—Ç–æ (–µ—Å–ª–∏ –∑–∞–≥—Ä—É–∂–µ–Ω–æ)

### `/my_matches` - –°–ø–∏—Å–æ–∫ –º–∞—Ç—á–µ–π

–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —Å –∫–æ—Ç–æ—Ä—ã–º–∏ –ø—Ä–æ–∏–∑–æ—à—ë–ª –≤–∑–∞–∏–º–Ω—ã–π –ª–∞–π–∫:
- –°–ø–∏—Å–æ–∫ –º–∞—Ç—á–µ–π (–∏–º—è + username)
- –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –º–∞—Ç—á - –ø–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è + –∫–æ–Ω—Ç–∞–∫—Ç—ã
- –ö–æ–Ω—Ç–∞–∫—Ç—ã –≤–∫–ª—é—á–∞—é—Ç: Telegram username, —Ç–µ–ª–µ—Ñ–æ–Ω (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω)

---

## –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è (FSM Flow)

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ—Ö–æ–¥–∏—Ç 7 —à–∞–≥–æ–≤:

### –®–∞–≥ 1: –ë–∏–æ (–û —Å–µ–±–µ)
- **–í–æ–ø—Ä–æ—Å:** "–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –Ω–µ–º–Ω–æ–≥–æ –æ —Å–µ–±–µ (2-3 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è)"
- **–õ–∏–º–∏—Ç:** 512 —Å–∏–º–≤–æ–ª–æ–≤
- **–ü—Ä–∏–º–µ—Ä:** "–ö—Ç–æ –≤—ã, —á–µ–º –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç–µ—Å—å, —á—Ç–æ –≤–∞—Å –≤–¥–æ—Ö–Ω–æ–≤–ª—è–µ—Ç"

### –®–∞–≥ 2: Occupation (–ß–µ–º –∑–∞–Ω–∏–º–∞–µ—Ç–µ—Å—å)
- **–í–æ–ø—Ä–æ—Å:** "–ß–µ–º –≤—ã –∑–∞–Ω–∏–º–∞–µ—Ç–µ—Å—å?"
- **–õ–∏–º–∏—Ç:** 256 —Å–∏–º–≤–æ–ª–æ–≤
- **–ü—Ä–∏–º–µ—Ä—ã:** —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫, –¥–∏–∑–∞–π–Ω–µ—Ä, –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å, —Å—Ç—É–¥–µ–Ω—Ç

### –®–∞–≥ 3: Looking for (–ö–æ–≥–æ –∏—â–µ—Ç–µ)
- **–í–æ–ø—Ä–æ—Å:** "–ö–æ–≥–æ –≤—ã –∏—â–µ—Ç–µ?"
- **–õ–∏–º–∏—Ç:** 512 —Å–∏–º–≤–æ–ª–æ–≤
- **–ü—Ä–∏–º–µ—Ä—ã:** –µ–¥–∏–Ω–æ–º—ã—à–ª–µ–Ω–Ω–∏–∫–æ–≤, –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞, –º–µ–Ω—Ç–æ—Ä–∞

### –®–∞–≥ 4: Can help with (–ß–µ–º –º–æ–∂–µ—Ç–µ –ø–æ–º–æ—á—å)
- **–í–æ–ø—Ä–æ—Å:** "–ß–µ–º –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–º–æ—á—å –¥—Ä—É–≥–∏–º?"
- **–õ–∏–º–∏—Ç:** 512 —Å–∏–º–≤–æ–ª–æ–≤
- **–ü—Ä–∏–º–µ—Ä—ã:** –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –ø–æ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥—É, –ø–æ–º–æ—â—å —Å –∫–æ–¥–æ–º, –¥–∏–∑–∞–π–Ω –ª–æ–≥–æ

### –®–∞–≥ 5: Needs help with (–í —á—ë–º –Ω—É–∂–¥–∞–µ—Ç–µ—Å—å)
- **–í–æ–ø—Ä–æ—Å:** "–í —á—ë–º –≤—ã –Ω—É–∂–¥–∞–µ—Ç–µ—Å—å?"
- **–õ–∏–º–∏—Ç:** 512 —Å–∏–º–≤–æ–ª–æ–≤
- **–ü—Ä–∏–º–µ—Ä—ã:** –Ω—É–∂–µ–Ω –¥–∏–∑–∞–π–Ω–µ—Ä –¥–ª—è MVP, –∏—â—É –º–µ–Ω—Ç–æ—Ä–∞ –ø–æ –ø—Ä–æ–¥–∞–∂–∞–º

### –®–∞–≥ 6: –§–æ—Ç–æ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- **–í–æ–ø—Ä–æ—Å:** "–û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–≤–æ—ë —Ñ–æ—Ç–æ"
- –ú–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å: `/skip`
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ø—Ä–æ—Ñ–∏–ª–∏ —Å —Ñ–æ—Ç–æ –ø–æ–ª—É—á–∞—é—Ç –±–æ–ª—å—à–µ –æ—Ç–∫–ª–∏–∫–æ–≤

### –®–∞–≥ 7: –ì–æ—Ä–æ–¥
- **–í–∞—Ä–∏–∞–Ω—Ç—ã:** –ú–∏–Ω—Å–∫ / –ì—Ä–æ–¥–Ω–æ / –î—Ä—É–≥–æ–π –≥–æ—Ä–æ–¥
- –ö–Ω–æ–ø–∫–∏ –¥–ª—è –≤—ã–±–æ—Ä–∞

**–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:**
- –ü—Ä–æ—Ñ–∏–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤—Å–µ–º –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ —Å—Ç–∞—Ç—É—Å–µ

---

## Swipe-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### –ö–∞—Ä—Ç–æ—á–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è

```
üë§ –ò–º—è –§–∞–º–∏–ª–∏—è
üèô –ú–∏–Ω—Å–∫

üìù –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑ –±–∏–æ...

üíº –ó–∞–Ω–∏–º–∞–µ—Ç—Å—è: occupation
```

**–ö–Ω–æ–ø–∫–∏:**
- ‚ù§Ô∏è **–õ–∞–π–∫** - –æ—Ç–º–µ—Ç–∏—Ç—å –∏–Ω—Ç–µ—Ä–µ—Å
- üëé **–°–∫–∏–ø** - –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å
- üëÄ **–ü–æ–¥—Ä–æ–±–Ω–µ–µ** - –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é

### –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

–ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ "üëÄ –ü–æ–¥—Ä–æ–±–Ω–µ–µ" –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è:
- –ü–æ–ª–Ω–æ–µ –±–∏–æ
- –ß–µ–º –∑–∞–Ω–∏–º–∞–µ—Ç—Å—è
- –ö–æ–≥–æ –∏—â–µ—Ç
- –ß–µ–º –º–æ–∂–µ—Ç –ø–æ–º–æ—á—å
- –í —á—ë–º –Ω—É–∂–¥–∞–µ—Ç—Å—è

### –õ–æ–≥–∏–∫–∞ –º–∞—Ç—á–∏–Ω–≥–∞

1. **–õ–∞–π–∫ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω** ‚Üí –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü—É `swipes`
2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∑–∞–∏–º–Ω–æ—Å—Ç–∏** ‚Üí –µ—Å–ª–∏ –¥—Ä—É–≥–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –ª–∞–π–∫–Ω—É–ª –≤–∞—Å
3. **–°–æ–∑–¥–∞–Ω–∏–µ –º–∞—Ç—á–∞** ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç—Å—è –∑–∞–ø–∏—Å—å –≤ `matches`
4. **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** ‚Üí –æ–±–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ–ª—É—á–∞—é—Ç:
   - –§–æ—Ç–æ –ø–∞—Ä—Ç–Ω—ë—Ä–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å)
   - –ü–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–æ—Ñ–∏–ª–µ
   - –ö–æ–Ω—Ç–∞–∫—Ç—ã (username, —Ç–µ–ª–µ—Ñ–æ–Ω)
   - –°–æ–æ–±—â–µ–Ω–∏–µ "üíï –£ –í–ê–° –ù–û–í–´–ô –ú–ê–¢–ß!"

---

## –ê–¥–º–∏–Ω-–∫–æ–º–∞–Ω–¥—ã

### –î–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

```
/admin ‚Üí "üíï –ú–∞—Ç—á–∏–Ω–≥"
```

**–†–∞–∑–¥–µ–ª—ã:**
- üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –º–∞—Ç—á–∏–Ω–≥–∞
- ‚è≥ –ú–æ–¥–µ—Ä–∞—Ü–∏—è –ø—Ä–æ—Ñ–∏–ª–µ–π

### `/moderate_profiles` - –ú–æ–¥–µ—Ä–∞—Ü–∏—è –ø—Ä–æ—Ñ–∏–ª–µ–π

–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –ø—Ä–æ—Ñ–∏–ª–∏ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º "pending":

**–î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è:**
- –§–æ—Ç–æ (–µ—Å–ª–∏ –µ—Å—Ç—å)
- –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (–±–∏–æ, occupation –∏ —Ç.–¥.)
- Username –∏ Telegram ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ì–æ—Ä–æ–¥

**–ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π:**
- ‚úÖ **–û–¥–æ–±—Ä–∏—Ç—å** - –ø—Ä–æ—Ñ–∏–ª—å —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –≤–∏–¥–∏–º—ã–º, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —Å–≤–∞–π–ø–∏—Ç—å
- ‚ùå **–û—Ç–∫–ª–æ–Ω–∏—Ç—å** - –ø—Ä–æ—Ñ–∏–ª—å —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:**
```bash
/approve_profile 1   # –û–¥–æ–±—Ä–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å —Å ID 1
/reject_profile 1    # –û—Ç–∫–ª–æ–Ω–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å —Å ID 1
```

### `/matching_stats` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–ª–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Å–∏—Å—Ç–µ–º—ã:

```
üíï –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã –º–∞—Ç—á–∏–Ω–≥–∞

–ü—Ä–æ—Ñ–∏–ª–∏:
  ‚Ä¢ –í—Å–µ–≥–æ: 5
  ‚Ä¢ ‚è≥ –ù–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏: 2
  ‚Ä¢ ‚úÖ –û–¥–æ–±—Ä–µ–Ω–æ: 3
  ‚Ä¢ ‚ùå –û—Ç–∫–ª–æ–Ω–µ–Ω–æ: 0
  ‚Ä¢ üëÅ –í–∏–¥–∏–º—ã—Ö: 3

–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:
  ‚Ä¢ üíï –ú–∞—Ç—á–µ–π: 4
  ‚Ä¢ üëÜ –°–≤–∞–π–ø–æ–≤: 25
  ‚Ä¢ ‚ù§Ô∏è –õ–∞–π–∫–æ–≤: 15
  ‚Ä¢ üìä Match rate: 53.3%
```

**Match rate** = (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∞—Ç—á–µ–π √ó 2 / –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–∞–π–∫–æ–≤) √ó 100%

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º

–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞—é—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è:

```
üîî –ù–û–í–´–ô –ü–†–û–§–ò–õ–¨ –ù–ê –ú–û–î–ï–†–ê–¶–ò–Æ

üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –ò–º—è –§–∞–º–∏–ª–∏—è
  ‚Ä¢ Username: @username
  ‚Ä¢ ID: 123456789

üìù –û —Å–µ–±–µ: ...
üíº –ß–µ–º –∑–∞–Ω–∏–º–∞–µ—Ç—Å—è: ...
üîç –ö–æ–≥–æ –∏—â–µ—Ç: ...
ü§ù –ú–æ–∂–µ—Ç –ø–æ–º–æ—á—å: ...
üÜò –ù—É–∂–¥–∞–µ—Ç—Å—è –≤ –ø–æ–º–æ—â–∏: ...
üèô –ì–æ—Ä–æ–¥: –ú–∏–Ω—Å–∫

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ /admin –¥–ª—è –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –ø—Ä–æ—Ñ–∏–ª–µ–π
```

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞ `user_profiles`

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `id` | INTEGER | Primary key |
| `user_id` | INTEGER | FK –Ω–∞ users.id (UNIQUE) |
| `bio` | TEXT | –û —Å–µ–±–µ (512 —Å–∏–º–≤–æ–ª–æ–≤) |
| `occupation` | TEXT | –ß–µ–º –∑–∞–Ω–∏–º–∞–µ—Ç—Å—è (256) |
| `looking_for` | TEXT | –ö–æ–≥–æ –∏—â–µ—Ç (512) |
| `can_help_with` | TEXT | –ß–µ–º –º–æ–∂–µ—Ç –ø–æ–º–æ—á—å (512) |
| `needs_help_with` | TEXT | –í —á—ë–º –Ω—É–∂–¥–∞–µ—Ç—Å—è (512) |
| `photo_file_id` | TEXT | ID —Ñ–æ—Ç–æ –≤ Telegram |
| `city` | VARCHAR(64) | –ì–æ—Ä–æ–¥ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é "–ú–∏–Ω—Å–∫") |
| `moderation_status` | VARCHAR(16) | pending/approved/rejected |
| `is_visible` | BOOLEAN | –í–∏–¥–µ–Ω –ª–∏ –ø—Ä–æ—Ñ–∏–ª—å (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é TRUE) |
| `created_at` | TIMESTAMP | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è |
| `updated_at` | TIMESTAMP | –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è |

**–ò–Ω–¥–µ–∫—Å—ã:**
- `user_id` (UNIQUE)
- `city`
- `moderation_status`
- `is_visible`

### –¢–∞–±–ª–∏—Ü–∞ `matches`

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `id` | INTEGER | Primary key |
| `user1_id` | INTEGER | FK –Ω–∞ users.id |
| `user2_id` | INTEGER | FK –Ω–∞ users.id |
| `matched_at` | TIMESTAMP | –í—Ä–µ–º—è –º–∞—Ç—á–∞ |
| `is_active` | BOOLEAN | –ê–∫—Ç–∏–≤–µ–Ω –ª–∏ –º–∞—Ç—á |

**–ò–Ω–¥–µ–∫—Å—ã:**
- `user1_id`
- `user2_id`
- `is_active`

**Constraint:** UNIQUE(user1_id, user2_id)

### –¢–∞–±–ª–∏—Ü–∞ `swipes`

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `id` | INTEGER | Primary key |
| `swiper_id` | INTEGER | FK –Ω–∞ users.id (–∫—Ç–æ —Å–≤–∞–π–ø–Ω—É–ª) |
| `swiped_id` | INTEGER | FK –Ω–∞ users.id (–∫–æ–≥–æ —Å–≤–∞–π–ø–Ω—É–ª–∏) |
| `action` | VARCHAR(16) | like / skip |
| `swiped_at` | TIMESTAMP | –í—Ä–µ–º—è –¥–µ–π—Å—Ç–≤–∏—è |

**–ò–Ω–¥–µ–∫—Å—ã:**
- `swiper_id`
- `swiped_id`
- `action`

**Constraint:** UNIQUE(swiper_id, swiped_id)

---

## –ê–ª–≥–æ—Ä–∏—Ç–º –ø–æ–¥–±–æ—Ä–∞

–°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —É–º–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏ –¥–ª—è –ø–æ–∫–∞–∑–∞ –ø—Ä–æ—Ñ–∏–ª–µ–π.

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –û–±—â–∏–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è + —Ç–æ—Ç –∂–µ –≥–æ—Ä–æ–¥

```sql
SELECT p.* FROM user_profiles p
JOIN users u ON p.user_id = u.id
JOIN event_registrations er ON er.user_id = u.id
WHERE
  p.user_id != current_user_id
  AND p.moderation_status = 'approved'
  AND p.is_visible = TRUE
  AND p.city = current_user_city
  AND er.event_id IN (user_event_ids)  -- –æ–±—â–∏–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è
  AND p.user_id NOT IN (already_swiped_ids)
```

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: –¢–æ—Ç –∂–µ –≥–æ—Ä–æ–¥

```sql
SELECT p.* FROM user_profiles p
WHERE
  p.user_id != current_user_id
  AND p.moderation_status = 'approved'
  AND p.is_visible = TRUE
  AND p.city = current_user_city
  AND p.user_id NOT IN (already_swiped_ids)
```

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ

```sql
SELECT p.* FROM user_profiles p
WHERE
  p.user_id != current_user_id
  AND p.moderation_status = 'approved'
  AND p.is_visible = TRUE
  AND p.user_id NOT IN (already_swiped_ids)
```

### –§–∏–ª—å—Ç—Ä—ã

**–í—Å–µ–≥–¥–∞ –∏—Å–∫–ª—é—á–∞—é—Ç—Å—è:**
- –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å
- –ù–µ–æ–¥–æ–±—Ä–µ–Ω–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª–∏ (pending, rejected)
- –°–∫—Ä—ã—Ç—ã–µ –ø—Ä–æ—Ñ–∏–ª–∏ (is_visible = FALSE)
- –£–∂–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã–µ (–∑–∞–ø–∏—Å–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ swipes)

---

## –ú–æ–¥–µ—Ä–∞—Ü–∏—è –ø—Ä–æ—Ñ–∏–ª–µ–π

### –°—Ç–∞—Ç—É—Å—ã –ø—Ä–æ—Ñ–∏–ª—è

| –°—Ç–∞—Ç—É—Å | –û–ø–∏—Å–∞–Ω–∏–µ | –í–∏–¥–∏–º–æ—Å—Ç—å | –î–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
|--------|----------|-----------|----------------------|
| `pending` | –ù–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ | ‚ùå –ù–µ –≤–∏–¥–µ–Ω | –ñ–¥—ë—Ç –æ–¥–æ–±—Ä–µ–Ω–∏—è |
| `approved` | –û–¥–æ–±—Ä–µ–Ω | ‚úÖ –í–∏–¥–µ–Ω | –ú–æ–∂–µ—Ç —Å–≤–∞–π–ø–∏—Ç—å |
| `rejected` | –û—Ç–∫–ª–æ–Ω—ë–Ω | ‚ùå –ù–µ –≤–∏–¥–µ–Ω | –ú–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π |

### Workflow –º–æ–¥–µ—Ä–∞—Ü–∏–∏

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞—ë—Ç –ø—Ä–æ—Ñ–∏–ª—å
          ‚Üì
    status = pending
          ‚Üì
–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤—Å–µ–º –∞–¥–º–∏–Ω–∞–º
          ‚Üì
–ê–¥–º–∏–Ω –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–æ—Ñ–∏–ª—å
          ‚Üì
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚Üì                   ‚Üì
‚úÖ –û–¥–æ–±—Ä–∏—Ç—å         ‚ùå –û—Ç–∫–ª–æ–Ω–∏—Ç—å
    ‚Üì                   ‚Üì
approved            rejected
    ‚Üì                   ‚Üì
–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ        –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é       –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
    ‚Üì
–ü—Ä–æ—Ñ–∏–ª—å –≤–∏–¥–µ–Ω –≤ —Å–≤–∞–π–ø–∞—Ö
```

### –ü—Ä–∏—á–∏–Ω—ã –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è

‚ùå –ù–µ–ø–æ–¥–æ–±–∞—é—â–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç
‚ùå –°–ø–∞–º –∏–ª–∏ —Ä–µ–∫–ª–∞–º–∞
‚ùå –§–µ–π–∫–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
‚ùå –ù–∞—Ä—É—à–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª —Å–æ–æ–±—â–µ—Å—Ç–≤–∞
‚ùå –û—Å–∫–æ—Ä–±–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç

### –ü—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —Å –ø—Ä–∞–≤–∞–º–∏ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –º–æ–∂–µ—Ç:
- –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –≤—Å–µ –ø—Ä–æ—Ñ–∏–ª–∏ –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏
- –û–¥–æ–±—Ä—è—Ç—å –ø—Ä–æ—Ñ–∏–ª–∏ (–º–µ–Ω—è–µ—Ç —Å—Ç–∞—Ç—É—Å –Ω–∞ `approved`)
- –û—Ç–∫–ª–æ–Ω—è—Ç—å –ø—Ä–æ—Ñ–∏–ª–∏ (–º–µ–Ω—è–µ—Ç —Å—Ç–∞—Ç—É—Å –Ω–∞ `rejected`)
- –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Å–∏—Å—Ç–µ–º—ã
- –°–∫—Ä—ã–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª–∏ (—á–µ—Ä–µ–∑ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö)

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏

### –°–∫—Ä—ã—Ç—å –ø—Ä–æ—Ñ–∏–ª—å

**–ö–æ–º–∞–Ω–¥–∞:** `/tinder` ‚Üí "‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏" ‚Üí "–°–∫—Ä—ã—Ç—å –ø—Ä–æ—Ñ–∏–ª—å"

**–≠—Ñ—Ñ–µ–∫—Ç:**
- `is_visible` = FALSE
- –ü—Ä–æ—Ñ–∏–ª—å –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ —Å–≤–∞–π–ø–∞—Ö –¥—Ä—É–≥–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
- –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –º–∞—Ç—á–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
- –ú–æ–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å –æ–±—Ä–∞—Ç–Ω–æ –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç

### –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è

üöß **–í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ**

–ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å:
- –ë–∏–æ
- Occupation
- Looking for
- Can help with
- Needs help with
- –§–æ—Ç–æ
- –ì–æ—Ä–æ–¥

–ü—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –ø—Ä–æ—Ñ–∏–ª—å —Å–Ω–æ–≤–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é.

---

## Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: "–ù–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –≤–≤–æ–¥–µ /tinder"

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±–æ—Ç–∞: `docker logs maincomby_bot --tail 50`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –º–∏–≥—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞: —Ç–∞–±–ª–∏—Ü—ã `user_profiles`, `matches`, `swipes` —Å—É—â–µ—Å—Ç–≤—É—é—Ç
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç: `docker restart maincomby_bot`

### –ü—Ä–æ–±–ª–µ–º–∞: "–ú–æ–¥–µ—Ä–∞—Ü–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç"

**–ü—Ä–∏—á–∏–Ω—ã:**
1. –í—ã –Ω–µ –≤ —Å–ø–∏—Å–∫–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
2. –ù–µ—Ç –ø—Ä–æ—Ñ–∏–ª–µ–π –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏
3. –û—à–∏–±–∫–∞ —Å bot instance –≤ callback handlers

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `.env`: `ADMIN_IDS` —Å–æ–¥–µ—Ä–∂–∏—Ç –≤–∞—à Telegram ID
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–∑—É: `SELECT * FROM user_profiles WHERE moderation_status='pending'`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ RuntimeError

### –ü—Ä–æ–±–ª–µ–º–∞: "–ù–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –ø—Ä–æ—Ñ–∏–ª–∏ –¥–ª—è —Å–≤–∞–π–ø–∞"

**–ü—Ä–∏—á–∏–Ω—ã:**
1. –í–∞—à –ø—Ä–æ—Ñ–∏–ª—å –Ω–µ –æ–¥–æ–±—Ä–µ–Ω (`moderation_status != 'approved'`)
2. –í—Å–µ –ø—Ä–æ—Ñ–∏–ª–∏ —É–∂–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω—ã
3. –ù–µ—Ç –¥—Ä—É–≥–∏—Ö –æ–¥–æ–±—Ä–µ–Ω–Ω—ã—Ö –ø—Ä–æ—Ñ–∏–ª–µ–π

**–†–µ—à–µ–Ω–∏–µ:**
1. –û–¥–æ–±—Ä–∏—Ç–µ —Å–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å —á–µ—Ä–µ–∑ `/moderate_profiles`
2. –ü–æ–¥–æ–∂–¥–∏—Ç–µ –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ: `SELECT * FROM user_profiles WHERE moderation_status='approved' AND is_visible=1`

### –ü—Ä–æ–±–ª–µ–º–∞: "RuntimeError: bot instance"

**–ü—Ä–∏—á–∏–Ω–∞:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `message.answer()` –≤–º–µ—Å—Ç–æ `message.bot.send_message()`

**–†–µ—à–µ–Ω–∏–µ:**
–ó–∞–º–µ–Ω–∏—Ç—å –≤ –∫–æ–¥–µ:
```python
# ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
await message.answer(text)

# ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
await message.bot.send_message(message.chat.id, text)
```

### –ü—Ä–æ–±–ª–µ–º–∞: "SQLAlchemy InvalidRequestError: relationships"

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ foreign keys –≤ relationships

**–†–µ—à–µ–Ω–∏–µ:**
- `Swipe` –¥–æ–ª–∂–µ–Ω —Å—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ `User`, –∞ –Ω–µ `UserProfile`
- Relationships `swipes_made` –∏ `swipes_received` –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ –º–æ–¥–µ–ª–∏ `User`

---

## –ú–∏–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –õ–æ–∫–∞–ª—å–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è

```bash
python3 migrations/add_matching_tables.py
```

### –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ VPS

```bash
# –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ SSH
sshpass -p 'PASSWORD' ssh root@IP "cd /root/maincomby_bot && python3 run_matching_migration.py"

# –í–∞—Ä–∏–∞–Ω—Ç 2: –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –±–∞–∑—É –∏ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ
scp root@IP:/root/maincomby_bot/data/bot.db ./
python3 migrations/add_matching_tables.py
scp ./bot.db root@IP:/root/maincomby_bot/data/
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–∏

```bash
sqlite3 bot.db "SELECT name FROM sqlite_master WHERE type='table' AND name LIKE '%match%' OR name LIKE '%swipe%' OR name='user_profiles';"
```

–î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å:
```
user_profiles
matches
swipes
```

---

## –§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
maincomby_bot/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ db/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ models.py              # –ú–æ–¥–µ–ª–∏: UserProfile, Match, Swipe
‚îÇ   ‚îú‚îÄ‚îÄ handlers/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ matching.py            # Handler –º–∞—Ç—á–∏–Ω–≥–∞ (~900 —Å—Ç—Ä–æ–∫)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ event_admin.py         # –ú–æ–¥–µ—Ä–∞—Ü–∏—è –ø—Ä–æ—Ñ–∏–ª–µ–π (—Ä–∞—Å—à–∏—Ä–µ–Ω)
‚îÇ   ‚îî‚îÄ‚îÄ main.py                    # –†–æ—É—Ç–µ—Ä –∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (–æ–±–Ω–æ–≤–ª—ë–Ω)
‚îú‚îÄ‚îÄ migrations/
‚îÇ   ‚îî‚îÄ‚îÄ add_matching_tables.py     # –ú–∏–≥—Ä–∞—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü
‚îî‚îÄ‚îÄ MATCHING_SYSTEM_GUIDE.md       # –≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

---

## –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

### –ë—ã—Å—Ç—Ä–∞—è –º–æ–¥–µ—Ä–∞—Ü–∏—è

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ—Ñ–∏–ª–µ–π –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏
/moderate_profiles

# –û–¥–æ–±—Ä–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
/approve_profile 1

# –û—Ç–∫–ª–æ–Ω–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
/reject_profile 1

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
/matching_stats
```

### SQL –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

```sql
-- –í—Å–µ –ø—Ä–æ—Ñ–∏–ª–∏
SELECT u.tg_user_id, u.username, p.moderation_status, p.city, p.is_visible
FROM user_profiles p
JOIN users u ON p.user_id = u.id;

-- –ü—Ä–æ—Ñ–∏–ª–∏ –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏
SELECT * FROM user_profiles WHERE moderation_status='pending';

-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –º–∞—Ç—á–µ–π
SELECT COUNT(*) as total_matches FROM matches WHERE is_active=1;

-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–≤–∞–π–ø–æ–≤
SELECT action, COUNT(*) as count FROM swipes GROUP BY action;

-- Match rate
SELECT
  (SELECT COUNT(*) FROM matches WHERE is_active=1) * 2.0 /
  (SELECT COUNT(*) FROM swipes WHERE action='like') * 100 as match_rate;
```

---

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ —Ä–∞–∑–≤–∏—Ç–∏–µ

### –¢–µ–∫—É—â–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

‚ö†Ô∏è –ù–µ–ª—å–∑—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å (—Ç–æ–ª—å–∫–æ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å)
‚ö†Ô∏è –ù–µ–ª—å–∑—è —É–¥–∞–ª–∏—Ç—å –º–∞—Ç—á
‚ö†Ô∏è –ù–µ—Ç —Ñ–∏–ª—å—Ç—Ä–æ–≤ –ø–æ –∏–Ω—Ç–µ—Ä–µ—Å–∞–º
‚ö†Ô∏è –ù–µ—Ç –ø–æ–∏—Å–∫–∞ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º

### –ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

üîú –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
üîú –§–∏–ª—å—Ç—Ä—ã –∏ —Ç–µ–≥–∏ –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤
üîú –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–≤—ã–∫–∞–º
üîú –ò—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –º–∞—Ç—á–∞—Ö
üîú –†–µ–π—Ç–∏–Ω–≥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
üîú –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ AI

---

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞:** 24 –Ω–æ—è–±—Ä—è 2024
**–í–µ—Ä—Å–∏—è —Å–∏—Å—Ç–µ–º—ã:** 1.0.0
**–ê–≤—Ç–æ—Ä:** Claude Code
