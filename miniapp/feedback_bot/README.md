# MAIN Feedback Bot

Telegram –±–æ—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–±–æ—Ä–∞ –∏ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ñ–∏–¥–±–µ–∫–∞ –∏–∑ –≥—Ä—É–ø–ø—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üì• –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤—Å–µ—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —Ç–µ—Å—Ç–æ–≤–æ–π –≥—Ä—É–ø–ø–µ
- ü§ñ AI-–∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è (—Ç–∏–ø, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç, —Ç–µ–≥–∏)
- üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ Supabase `backlog_items`
- ‚úÖ –†–µ–∞–∫—Ü–∏—è –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è

## –¢–∏–ø—ã –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏

| –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –≠–º–æ–¥–∑–∏ |
|-----|----------|--------|
| `bug` | –ë–∞–≥, –æ—à–∏–±–∫–∞ | üêõ |
| `feature` | –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è | üí° |
| `improvement` | –£–ª—É—á—à–µ–Ω–∏–µ | ‚ú® |
| `ux` | UX/UI –ø—Ä–æ–±–ª–µ–º–∞ | üé® |
| `question` | –í–æ–ø—Ä–æ—Å | ‚ùì |
| `other` | –î—Ä—É–≥–æ–µ | üìù |

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ [@BotFather](https://t.me/BotFather)
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/newbot`
3. –ù–∞–∑–æ–≤–∏—Ç–µ –±–æ—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: "MAIN Feedback Bot")
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ç–æ–∫–µ–Ω

### 2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ

```bash
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤–∞—à–∏ –∫–ª—é—á–∏
```

### 3. –î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –≤ –≥—Ä—É–ø–ø—É

1. –î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –≤ –≥—Ä—É–ø–ø—É —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
2. –°–¥–µ–ª–∞–π—Ç–µ –µ–≥–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º (–¥–ª—è —Ä–µ–∞–∫—Ü–∏–π –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è)
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ Chat ID —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å `TEST_GROUP_CHAT_ID`

### 4. –ó–∞–ø—É—Å–∫

#### –õ–æ–∫–∞–ª—å–Ω–æ:
```bash
pip install -r requirements.txt
python main.py
```

#### Docker:
```bash
docker build -t feedback-bot .
docker run --env-file .env feedback-bot
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ |
|------------|----------|-------------|
| `FEEDBACK_BOT_TOKEN` | –¢–æ–∫–µ–Ω –±–æ—Ç–∞ –æ—Ç BotFather | ‚úÖ |
| `TEST_GROUP_CHAT_ID` | ID –≥—Ä—É–ø–ø—ã –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ | ‚úÖ |
| `SUPABASE_URL` | URL Supabase –ø—Ä–æ–µ–∫—Ç–∞ | ‚úÖ |
| `SUPABASE_SERVICE_KEY` | Service Role –∫–ª—é—á Supabase | ‚úÖ |
| `OPENAI_API_KEY` | API –∫–ª—é—á OpenAI | ‚ùå (–µ—Å—Ç—å fallback) |
| `AI_MODEL` | –ú–æ–¥–µ–ª—å OpenAI | ‚ùå (default: gpt-4o-mini) |
| `REACT_TO_MESSAGES` | –†–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è | ‚ùå (default: true) |

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
feedback_bot/
‚îú‚îÄ‚îÄ main.py              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ config.py            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ handlers/
‚îÇ   ‚îî‚îÄ‚îÄ messages.py      # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îú‚îÄ‚îÄ ai_classifier.py # AI –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ supabase_client.py # –†–∞–±–æ—Ç–∞ —Å –ë–î
‚îú‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ Dockerfile
‚îî‚îÄ‚îÄ README.md
```
